EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 4
Title "DAS+ECU"
Date "2021-12-13"
Rev "v1"
Comp "E-Agle TRT"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Wire Notes Line
	5525 7700 5550 7700
Text Notes 550  650  0    100  ~ 20
CAN POWER CONNECTORS
Text Label 1550 950  2    50   ~ 0
CAN1_P
Text Label 550  950  0    50   ~ 0
CAN1_P
Wire Wire Line
	550  950  800  950 
Wire Wire Line
	1300 950  1550 950 
Wire Wire Line
	1300 1250 1550 1250
Wire Wire Line
	1300 1150 1550 1150
Wire Wire Line
	1300 1050 1550 1050
Wire Wire Line
	550  1250 800  1250
Wire Wire Line
	550  1150 800  1150
Wire Wire Line
	550  1050 800  1050
Text Label 1550 1150 2    50   ~ 0
CAN2_P
Text Label 1550 1250 2    50   ~ 0
CAN2_L
Text Label 550  1150 0    50   ~ 0
CAN2_P
Text Label 550  1250 0    50   ~ 0
CAN2_L
Text Label 550  1050 0    50   ~ 0
CAN1_L
$Comp
L Connector_Generic:Conn_02x04_Top_Bottom J2
U 1 1 61A6DA56
P 1000 1050
F 0 "J2" H 1050 1250 50  0000 C CNN
F 1 "CAN" H 1050 750 50  0000 C CNN
F 2 "" H 1000 1050 50  0001 C CNN
F 3 "~" H 1000 1050 50  0001 C CNN
	1    1000 1050
	1    0    0    -1  
$EndComp
Text Label 1550 1050 2    50   ~ 0
CAN1_L
$Comp
L Connector_Generic:Conn_02x02_Top_Bottom J3
U 1 1 61C27FAA
P 2150 1050
F 0 "J3" H 2200 1150 50  0000 C CNN
F 1 "POWER" H 2200 850 50  0000 C CNN
F 2 "Connector_Molex:Molex_Micro-Fit_3.0_43045-0412_2x02_P3.00mm_Vertical" H 2150 1050 50  0001 C CNN
F 3 "~" H 2150 1050 50  0001 C CNN
	1    2150 1050
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR024
U 1 1 61C28417
P 2450 1050
F 0 "#PWR024" H 2450 900 50  0001 C CNN
F 1 "+12V" V 2465 1178 50  0000 L CNN
F 2 "" H 2450 1050 50  0001 C CNN
F 3 "" H 2450 1050 50  0001 C CNN
	1    2450 1050
	0    1    1    0   
$EndComp
$Comp
L power:+12V #PWR022
U 1 1 61C289EF
P 1950 1050
F 0 "#PWR022" H 1950 900 50  0001 C CNN
F 1 "+12V" V 1965 1178 50  0000 L CNN
F 2 "" H 1950 1050 50  0001 C CNN
F 3 "" H 1950 1050 50  0001 C CNN
	1    1950 1050
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR025
U 1 1 61C2D443
P 2450 1150
F 0 "#PWR025" H 2450 900 50  0001 C CNN
F 1 "GND" V 2455 1022 50  0000 R CNN
F 2 "" H 2450 1150 50  0001 C CNN
F 3 "" H 2450 1150 50  0001 C CNN
	1    2450 1150
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR023
U 1 1 61C2D7F8
P 1950 1150
F 0 "#PWR023" H 1950 900 50  0001 C CNN
F 1 "GND" V 1955 1022 50  0000 R CNN
F 2 "" H 1950 1150 50  0001 C CNN
F 3 "" H 1950 1150 50  0001 C CNN
	1    1950 1150
	0    1    1    0   
$EndComp
$Sheet
S 3550 3800 900  700 
U 61C45647
F0 "Encoders" 50
F1 "Encoders.sch" 50
F2 "WL_A" O R 4450 4050 50 
F3 "WL_B" O R 4450 4150 50 
F4 "WR_A" O R 4450 4250 50 
F5 "WR_B" O R 4450 4350 50 
F6 "SW_DATA" O R 4450 3850 50 
F7 "SW_CLK" I R 4450 3950 50 
$EndSheet
$Comp
L Eagle_Main:Tex_DCDC U?
U 1 1 61B91192
P 3600 1550
AR Path="/61A00C0D/61B91192" Ref="U?"  Part="1" 
AR Path="/61B91192" Ref="U1"  Part="1" 
F 0 "U1" H 3928 1201 50  0000 L CNN
F 1 "Tex_DCDC" H 3928 1110 50  0000 L CNN
F 2 "Eagle_Main:Tex_DCDC_vertical_up" H 3500 1550 50  0001 C CNN
F 3 "" H 3500 1550 50  0001 C CNN
	1    3600 1550
	-1   0    0    1   
$EndComp
$Comp
L power:+5V #PWR?
U 1 1 61B91198
P 3700 1250
AR Path="/61A00C0D/61B91198" Ref="#PWR?"  Part="1" 
AR Path="/61B91198" Ref="#PWR030"  Part="1" 
F 0 "#PWR030" H 3700 1100 50  0001 C CNN
F 1 "+5V" V 3715 1378 50  0000 L CNN
F 2 "" H 3700 1250 50  0001 C CNN
F 3 "" H 3700 1250 50  0001 C CNN
	1    3700 1250
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61B9119E
P 3700 1350
AR Path="/61A00C0D/61B9119E" Ref="#PWR?"  Part="1" 
AR Path="/61B9119E" Ref="#PWR031"  Part="1" 
F 0 "#PWR031" H 3700 1100 50  0001 C CNN
F 1 "GND" V 3705 1222 50  0000 R CNN
F 2 "" H 3700 1350 50  0001 C CNN
F 3 "" H 3700 1350 50  0001 C CNN
	1    3700 1350
	0    -1   -1   0   
$EndComp
$Comp
L power:+3.3V #PWR?
U 1 1 61B911A4
P 3700 1450
AR Path="/61A00C0D/61B911A4" Ref="#PWR?"  Part="1" 
AR Path="/61B911A4" Ref="#PWR032"  Part="1" 
F 0 "#PWR032" H 3700 1300 50  0001 C CNN
F 1 "+3.3V" V 3715 1578 50  0000 L CNN
F 2 "" H 3700 1450 50  0001 C CNN
F 3 "" H 3700 1450 50  0001 C CNN
	1    3700 1450
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61B911AA
P 3700 850
AR Path="/61A00C0D/61B911AA" Ref="#PWR?"  Part="1" 
AR Path="/61B911AA" Ref="#PWR026"  Part="1" 
F 0 "#PWR026" H 3700 600 50  0001 C CNN
F 1 "GND" V 3705 722 50  0000 R CNN
F 2 "" H 3700 850 50  0001 C CNN
F 3 "" H 3700 850 50  0001 C CNN
	1    3700 850 
	0    -1   -1   0   
$EndComp
$Comp
L power:+12V #PWR?
U 1 1 61B911B0
P 3700 1050
AR Path="/61A00C0D/61B911B0" Ref="#PWR?"  Part="1" 
AR Path="/61B911B0" Ref="#PWR029"  Part="1" 
F 0 "#PWR029" H 3700 900 50  0001 C CNN
F 1 "+12V" V 3700 1250 50  0000 C CNN
F 2 "" H 3700 1050 50  0001 C CNN
F 3 "" H 3700 1050 50  0001 C CNN
	1    3700 1050
	0    1    1    0   
$EndComp
Text Label 4050 950  2    50   ~ 0
5V_PROG
Wire Wire Line
	4050 950  3700 950 
Text Notes 2900 650  0    100  ~ 20
DCDC
Text Label 5650 1100 2    50   ~ 0
~RST~
Wire Notes Line
	5750 1650 5750 500 
Wire Notes Line
	2850 500  2850 1650
Text Notes 4200 650  0    100  ~ 20
DEBUG
Wire Notes Line
	4150 1650 4150 500 
Wire Wire Line
	5300 1100 5650 1100
Wire Wire Line
	5300 1400 5650 1400
Wire Wire Line
	4600 1400 4250 1400
Wire Wire Line
	4250 1200 4600 1200
Wire Wire Line
	4250 1100 4600 1100
Text Label 4250 1100 0    50   ~ 0
SWCLK
Text Label 4250 1200 0    50   ~ 0
SWDIO
Text Label 4250 1400 0    50   ~ 0
MCU_TX
Text Label 5650 1400 2    50   ~ 0
MCU_RX
$Comp
L power:+3.3V #PWR?
U 1 1 61B9A3F3
P 4600 1300
AR Path="/61A00C0D/61B9A3F3" Ref="#PWR?"  Part="1" 
AR Path="/61B9A3F3" Ref="#PWR034"  Part="1" 
F 0 "#PWR034" H 4600 1150 50  0001 C CNN
F 1 "+3.3V" V 4615 1428 50  0000 L CNN
F 2 "" H 4600 1300 50  0001 C CNN
F 3 "" H 4600 1300 50  0001 C CNN
	1    4600 1300
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5650 1300 5300 1300
Text Label 5650 1300 2    50   ~ 0
5V_PROG
$Comp
L power:GND #PWR?
U 1 1 61B940DC
P 5300 1000
AR Path="/61A00C0D/61B940DC" Ref="#PWR?"  Part="1" 
AR Path="/61B940DC" Ref="#PWR035"  Part="1" 
F 0 "#PWR035" H 5300 750 50  0001 C CNN
F 1 "GND" V 5300 800 50  0000 C CNN
F 2 "" H 5300 1000 50  0001 C CNN
F 3 "" H 5300 1000 50  0001 C CNN
	1    5300 1000
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 61B940D6
P 4600 1000
AR Path="/61A00C0D/61B940D6" Ref="#PWR?"  Part="1" 
AR Path="/61B940D6" Ref="#PWR033"  Part="1" 
F 0 "#PWR033" H 4600 750 50  0001 C CNN
F 1 "GND" V 4600 800 50  0000 C CNN
F 2 "" H 4600 1000 50  0001 C CNN
F 3 "" H 4600 1000 50  0001 C CNN
	1    4600 1000
	0    1    1    0   
$EndComp
$Comp
L Eagle_Main:SWDEBUG_CONN J?
U 1 1 61B940D0
P 4950 1200
AR Path="/61A00C0D/61B940D0" Ref="J?"  Part="1" 
AR Path="/61B940D0" Ref="J4"  Part="1" 
F 0 "J4" H 4950 1625 50  0000 C CNN
F 1 "SWDEBUG_CONN" H 4950 1534 50  0000 C CNN
F 2 "Connector_IDC:IDC-Header_2x05_P2.54mm_Vertical" H 4900 750 50  0001 C CNN
F 3 "~" H 4800 1200 50  0001 C CNN
	1    4950 1200
	1    0    0    -1  
$EndComp
$Sheet
S 4600 2850 1100 2600
U 61A00C0D
F0 "Brain_Rasp" 50
F1 "Brain_Rasp.sch" 50
F2 "CAN1+" B R 5700 3250 50 
F3 "CAN1-" B R 5700 3350 50 
F4 "CAN2+" B R 5700 3450 50 
F5 "CAN2-" B R 5700 3550 50 
F6 "SWDIO" B L 4600 2950 50 
F7 "SWCLK" I L 4600 3050 50 
F8 "~RST~" I L 4600 3150 50 
F9 "SW_DATA" I L 4600 3850 50 
F10 "SW_CLK" O L 4600 3950 50 
F11 "WL_A" I L 4600 4050 50 
F12 "WL_B" I L 4600 4150 50 
F13 "WR_A" I L 4600 4250 50 
F14 "WR_B" I L 4600 4350 50 
F15 "MCU_PROG_TX" O L 4600 3250 50 
F16 "MCU_PROG_RX" I L 4600 3350 50 
F17 "BRAKE_LIGHT_CH1" O R 5700 4600 50 
F18 "BRAKE_LIGHT_CH2" O R 5700 4700 50 
F19 "BRAKE_LIGHT_CH3" O R 5700 4800 50 
F20 "APPS_CH1" I R 5700 5050 50 
F21 "APPS_CH2" I R 5700 5150 50 
F22 "BRAKE_PRESSURE_REAR" I R 5700 5250 50 
F23 "BRAKE_PRESSURE_FRONT" I R 5700 5350 50 
F24 "SWD_GPIO" B L 4600 3450 50 
$EndSheet
Text Label 5650 1200 2    50   ~ 0
MCU_GPIO
Wire Wire Line
	5650 1200 5300 1200
Wire Wire Line
	4450 3850 4600 3850
Wire Wire Line
	4450 3950 4600 3950
Wire Wire Line
	4450 4050 4600 4050
Wire Wire Line
	4600 4150 4450 4150
Wire Wire Line
	4450 4250 4600 4250
Wire Wire Line
	4450 4350 4600 4350
Text Label 6000 3250 2    50   ~ 0
CAN1_P
Wire Wire Line
	5700 3250 6000 3250
Wire Wire Line
	5700 3550 6000 3550
Wire Wire Line
	5700 3450 6000 3450
Wire Wire Line
	5700 3350 6000 3350
Text Label 6000 3450 2    50   ~ 0
CAN2_P
Text Label 6000 3550 2    50   ~ 0
CAN2_L
Text Label 6000 3350 2    50   ~ 0
CAN1_L
Text Label 4200 3150 0    50   ~ 0
~RST~
Text Label 4200 3350 0    50   ~ 0
MCU_RX
Text Label 4200 3050 0    50   ~ 0
SWCLK
Text Label 4200 2950 0    50   ~ 0
SWDIO
Text Label 4200 3250 0    50   ~ 0
MCU_TX
Wire Wire Line
	4200 2950 4600 2950
Wire Wire Line
	4200 3050 4600 3050
Wire Wire Line
	4200 3150 4600 3150
Wire Wire Line
	4200 3250 4600 3250
Wire Wire Line
	4200 3350 4600 3350
Text Label 4200 3450 0    50   ~ 0
MCU_GPIO
Wire Wire Line
	4200 3450 4600 3450
$Comp
L Connector_Generic:Conn_02x02_Top_Bottom J5
U 1 1 6206495F
P 6700 1150
F 0 "J5" H 6750 1367 50  0000 C CNN
F 1 "BRAKELIGHT" H 6750 1276 50  0000 C CNN
F 2 "Connector_Molex:Molex_Micro-Fit_3.0_43045-0400_2x02_P3.00mm_Horizontal" H 6700 1150 50  0001 C CNN
F 3 "~" H 6700 1150 50  0001 C CNN
	1    6700 1150
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR036
U 1 1 6206504B
P 6500 1150
F 0 "#PWR036" H 6500 1000 50  0001 C CNN
F 1 "+12V" V 6515 1278 50  0000 L CNN
F 2 "" H 6500 1150 50  0001 C CNN
F 3 "" H 6500 1150 50  0001 C CNN
	1    6500 1150
	0    -1   -1   0   
$EndComp
Text Label 5850 1250 0    50   ~ 0
BRAKELIGHT_CH1
Text Label 7650 1150 2    50   ~ 0
BRAKELIGHT_CH2
Text Label 7650 1250 2    50   ~ 0
BRAKELIGHT_CH3
Wire Wire Line
	7000 1150 7650 1150
Wire Wire Line
	7650 1250 7000 1250
Wire Wire Line
	6500 1250 5850 1250
Text Notes 5800 650  0    100  ~ 20
BRAKELIGHT
Wire Notes Line
	7700 1650 7700 500 
Wire Notes Line
	500  1650 7700 1650
$Sheet
S 5850 5000 550  450 
U 61CED6C1
F0 "Pedals_SET" 50
F1 "Pedals_SET.sch" 50
F2 "ACC_1" O L 5850 5050 50 
F3 "ACC_2" O L 5850 5150 50 
F4 "BRAKE_F" O L 5850 5250 50 
F5 "BRAKE_R" O L 5850 5350 50 
$EndSheet
Wire Wire Line
	5850 5050 5700 5050
Wire Wire Line
	5850 5150 5700 5150
Wire Wire Line
	5850 5250 5700 5250
Wire Wire Line
	5850 5350 5700 5350
$EndSCHEMATC
